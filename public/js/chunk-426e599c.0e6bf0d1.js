(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-426e599c"],{7803:function(e,r,t){"use strict";t.r(r);var s=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"register"},[t("register")],1)},a=[],i=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",[t("div",{staticClass:"container-fluid ps-md-0"},[t("div",{staticClass:"row g-0"},[t("div",{staticClass:"d-none d-md-flex col-md-4 col-lg-6 bg-image"}),t("div",{staticClass:"col-md-8 col-lg-6"},[t("div",{staticClass:"login d-flex align-items-center py-5"},[t("div",{staticClass:"container"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-md-9 col-lg-8 mx-auto"},[t("h3",{staticClass:"login-heading mb-4"},[e._v("Register")]),t("form",{on:{submit:function(r){return r.preventDefault(),e.registerUser.apply(null,arguments)}}},[t("div",{staticClass:"form-floating mb-3"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.register.name,expression:"register.name"}],staticClass:"form-control",attrs:{type:"text",id:"floatingInput",placeholder:"Name"},domProps:{value:e.register.name},on:{input:function(r){r.target.composing||e.$set(e.register,"name",r.target.value)}}}),t("label",{attrs:{for:"floatingInput"}},[e._v("Name")]),e.$v.register.name.$error?t("div",[e.$v.register.name.required?e._e():t("div",{staticClass:"error"},[e._v(" Name is required ")]),e.$v.register.name.minLength?e._e():t("div",{staticClass:"error"},[e._v(" Name must have at least "+e._s(e.$v.register.name.$params.minLength.min)+" letters. ")])]):e._e()]),t("div",{staticClass:"form-floating mb-3"},[t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.$v.register.email.$model,expression:"$v.register.email.$model",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"email",id:"floatingInput",placeholder:"name@example.com"},domProps:{value:e.$v.register.email.$model},on:{input:function(r){r.target.composing||e.$set(e.$v.register.email,"$model",r.target.value.trim())},blur:function(r){return e.$forceUpdate()}}}),t("label",{attrs:{for:"floatingInput"}},[e._v("Email address")]),e.$v.register.email.$error?t("div",[e.$v.register.email.required?e._e():t("div",{staticClass:"error"},[e._v(" Email is required. ")]),e.$v.register.email.email?e._e():t("div",{staticClass:"error"},[e._v(" This is not vaild email. ")]),e.$v.register.email.isUnique?e._e():t("div",{staticClass:"error"},[e._v(" This email is already registered. ")])]):e._e()]),t("div",{staticClass:"form-floating mb-3"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.$v.register.password.$model,expression:"$v.register.password.$model"}],staticClass:"form-control",attrs:{type:"password",id:"floatingPassword",placeholder:"Password"},domProps:{value:e.$v.register.password.$model},on:{input:function(r){r.target.composing||e.$set(e.$v.register.password,"$model",r.target.value)}}}),t("label",{attrs:{for:"floatingPassword"}},[e._v("Password")]),e.$v.register.password.$error?t("div",[e.$v.register.password.required?e._e():t("div",{staticClass:"error"},[e._v(" Password is required ")]),e.$v.register.password.minLength?e._e():t("div",{staticClass:"error"},[e._v(" Pasword must have at least "+e._s(e.$v.register.password.$params.minLength.min)+" letters. ")])]):e._e()]),t("div",{staticClass:"d-grid"},[t("button",{staticClass:"\n                        btn btn-lg btn-primary btn-login\n                        text-uppercase\n                        fw-bold\n                        mb-2\n                      ",attrs:{type:"submit"}},[e._v(" Sign Up ")]),t("div",{staticClass:"text-center"},[e._v(" Already have an account??"),t("router-link",{attrs:{to:"/"}},[e._v("click here")]),"ERROR"===e.submitStatus?t("p",{staticClass:"error"},[e._v(" Please fill the form correctly. ")]):e._e()],1)])])])])])])])])])])},n=[],o=t("1da1"),l=(t("96cf"),t("b5ae")),m=t("1940"),c={data:function(){return{register:{name:"",email:"",password:""},submitStatus:null}},validations:{register:{email:{required:l["required"],email:l["email"],isUnique:function(e){var r=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(e),t.next=3,r.$http.post("/user/check-unique-email",{email:r.register.email});case 3:if(s=t.sent,!s.data.exist){t.next=8;break}return t.abrupt("return",!1);case 8:return t.abrupt("return",!0);case 9:case"end":return t.stop()}}),t)})))()}},name:{required:l["required"],minLength:Object(l["minLength"])(4)},password:{required:l["required"],minLength:Object(l["minLength"])(6)}}},methods:{registerUser:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var t,s,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(e.$v.$touch(),!e.$v.$invalid){r.next=5;break}e.submitStatus="ERROR",r.next=18;break;case 5:return r.prev=5,r.next=8,e.$http.post("/user/register",e.register);case 8:t=r.sent,console.log(t),s=t.data.token,s?(localStorage.setItem("jwt",s),e.$router.push("/"),m("Success","Registration Was successful","success")):m("Error","Something Went Wrong","error"),r.next=18;break;case 14:r.prev=14,r.t0=r["catch"](5),a=r.t0.response,409==a.status?m("Error",a.data.message,"error"):m("Error",a.data.err.message,"error");case 18:case"end":return r.stop()}}),r,null,[[5,14]])})))()}}},u=c,d=(t("ea18"),t("2877")),v=Object(d["a"])(u,i,n,!1,null,"3a613be3",null),g=v.exports,p={components:{register:g}},f=p,$=Object(d["a"])(f,s,a,!1,null,null,null);r["default"]=$.exports},a6fa:function(e,r,t){},ea18:function(e,r,t){"use strict";t("a6fa")}}]);
//# sourceMappingURL=chunk-426e599c.0e6bf0d1.js.map